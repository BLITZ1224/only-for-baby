<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My Heart's Director: A Story for My Queen â¤ï¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pyidaungsu&display=swap');
        
        body, html { margin: 0; padding: 0; font-family: 'Pyidaungsu', sans-serif; background: #000; color: white; overflow: hidden; height: 100vh; }

        /* Video Background */
        #video-bg { position: fixed; top: 50%; left: 50%; min-width: 100%; min-height: 100%; width: auto; height: auto; z-index: -1; transform: translateX(-50%) translateY(-50%); background-size: cover; }
        #overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: -1; }

        /* Lock Screen */
        #lock-screen { position: fixed; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: flex; flex-direction: column; justify-content: center; align-items: center; z-index: 100; transition: opacity 1.5s ease-in-out; }
        .lock-container { text-align: center; background: rgba(0,0,0,0.7); padding: 30px; border-radius: 15px; box-shadow: 0 0 40px rgba(255, 77, 77, 0.2); animation: scaleIn 1s forwards; }
        .lock-input { padding: 15px; border-radius: 10px; border: 2px solid #ff4d4d; background: transparent; color: #fff; text-align: center; margin-bottom: 20px; width: 250px; font-size: 1.2rem; outline: none; transition: 0.3s; }
        .lock-input:focus { box-shadow: 0 0 25px rgba(255, 77, 77, 0.6); }
        .unlock-btn { padding: 12px 40px; background: #ff4d4d; border: none; border-radius: 50px; color: white; font-weight: bold; cursor: pointer; transition: 0.3s; box-shadow: 0 5px 20px rgba(255, 77, 77, 0.4); }
        .unlock-btn:hover { background: #ff3333; transform: translateY(-2px); }
        #error-msg { color: #ff8888; margin-top: 15px; font-size: 0.95rem; height: 20px; }
        @keyframes scaleIn { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Choice Screen */
        #choice-screen { display: none; position: absolute; width: 100%; height: 100%; flex-direction: column; justify-content: center; align-items: center; z-index: 20; text-align: center; opacity: 0; transition: opacity 1s ease-in-out; }
        .choice-btn { padding: 18px 45px; border: 1px solid #ff4d4d; background: rgba(255, 77, 77, 0.1); color: white; cursor: pointer; font-size: 1.1rem; border-radius: 50px; margin: 15px; transition: 0.4s; box-shadow: 0 0 20px rgba(255, 77, 77, 0.2); }
        .choice-btn:hover { background: #ff4d4d; box-shadow: 0 0 40px #ff4d4d; transform: translateY(-3px); }

        /* Animated Photo Gallery */
        #gallery-mode { display: none; width: 100%; height: 100vh; align-items: center; justify-content: center; position: relative; opacity: 0; transition: opacity 1s ease-in-out; }
        .photo-frame { position: absolute; width: 80%; max-width: 380px; height: 500px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 15px; box-shadow: 0 25px 60px rgba(0,0,0,0.8); opacity: 0; transform: scale(0.7) rotateY(45deg); transition: all 1.2s cubic-bezier(0.68, -0.55, 0.265, 1.55); cursor: pointer; }
        .photo-frame img { width: 100%; height: 100%; object-fit: cover; border-radius: 10px; border: 1px solid rgba(255,255,255,0.1); }
        .photo-frame.active { opacity: 1; transform: scale(1) rotateY(0deg); z-index: 10; }
        .photo-frame.leaving { opacity: 0; transform: scale(0.6) rotateY(-45deg) translateX(-300px); }
        .frame-caption { color: #eee; text-align: center; font-weight: bold; margin-top: 15px; font-size: 1.1rem; text-shadow: 0 0 5px rgba(0,0,0,0.7); }

        /* Text Mode & Grand Finale */
        #text-mode { display: none; width: 90%; max-width: 600px; padding: 40px; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(0, 0, 0, 0.95); border: 2px solid #500; border-radius: 20px; text-align: center; z-index: 30; box-shadow: 0 0 60px rgba(255, 0, 0, 0.2); }
        #typewriter { font-size: 1.1rem; line-height: 2; color: #ffebeb; text-align: justify; }
        
        .magic-box { font-size: 90px; cursor: pointer; animation: heartbeat 1.5s infinite; transition: transform 0.2s; }
        .magic-box:active { transform: scale(0.9); }
        
        #final-reveal { display: none; margin-top: 25px; animation: zoomIn 1s forwards; }
        .reveal-items { font-size: 100px; text-shadow: 0 0 15px gold; }
        @keyframes heartbeat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
        @keyframes zoomIn { from { transform: scale(0.5); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Particle Effects */
        .particle { position: fixed; pointer-events: none; z-index: 50; animation: floatUp linear forwards; }
        @keyframes floatUp { from { transform: translateY(100vh) scale(0); opacity: 1; } to { transform: translateY(-10vh) scale(1.5); opacity: 0; } }
        
        /* Fireworks Canvas */
        #fireworks-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 60; pointer-events: none; }
    </style>
</head>
<body>

<video autoplay muted loop id="video-bg">
    <source src="videos/bg.mp4" type="video/mp4">
    </video>
<div id="overlay"></div>

<audio id="bgMusic" loop><source src="music.mp3.mp3" type="audio/mpeg"></audio>
<canvas id="fireworks-canvas"></canvas>

<div id="lock-screen">
    <div class="lock-container">
        <div style="font-size: 60px; margin-bottom: 20px;">ğŸ¬</div>
        <h2 style="color: #ff4d4d; font-weight: 300;">Enter the Secret Code to Start Our Story</h2>
        <input type="password" id="passInput" class="lock-input" placeholder="á€™á€„á€ºá€¸á€›á€²á€· á€™á€½á€±á€¸á€”á€±á€· / á€”á€¾á€…á€ºá€•á€á€ºá€œá€Šá€º..." maxlength="8">
        <br>
        <button class="unlock-btn" onclick="checkLock()">Unlock My Love Story</button>
        <div id="error-msg"></div>
    </div>
</div>

<div id="choice-screen">
    <h1 style="color: #ff4d4d; font-size: 2.5rem; text-shadow: 0 0 20px rgba(255,0,0,0.7);">WELCOME TO OUR WORLD â¤ï¸</h1>
    <p style="opacity: 0.7; font-size: 1rem;">Choose your journey, my love.</p>
    <div style="margin-top: 40px;">
        <button class="choice-btn" onclick="startFeature('gallery')">âœ¨ á€¡á€™á€¾á€á€ºá€á€› á€‡á€¬á€á€ºá€œá€™á€ºá€¸ âœ¨</button>
        <button class="choice-btn" onclick="startFeature('text')">ğŸ’Œ á€›á€„á€ºá€–á€½á€„á€·á€ºá€…á€€á€¬á€¸á€™á€»á€¬á€¸ ğŸ’Œ</button>
    </div>
</div>

<div id="gallery-mode" onclick="nextPhoto()">
    <div class="photo-frame active" id="p1"><img src="images/1.jpg"><div class="frame-caption">á€€á€­á€¯á€šá€·á€ºá€›á€²á€· á€¡á€á€»á€…á€ºá€¦á€¸ â¤ï¸</div></div>
    <div class="photo-frame" id="p2"><img src="images/2.jpg"><div class="frame-caption">á€á€…á€ºá€á€€á€ºá€œá€¯á€¶á€¸ á€œá€€á€ºá€á€½á€²á€™á€šá€·á€ºá€á€° ğŸŒ¹</div></div>
    <div class="photo-frame" id="p3"><img src="images/3.jpg"><div class="frame-caption">á€€á€­á€¯á€šá€·á€ºá€›á€²á€· á€€á€™á€¹á€˜á€¬ âœ¨</div></div>
    <div class="photo-frame" id="p4"><img src="images/4.jpg"><div class="frame-caption">á€™á€„á€ºá€¸á€¡á€•á€¼á€¯á€¶á€¸á€á€½á€±á€€ á€€á€­á€¯á€šá€·á€ºá€á€½á€”á€ºá€¡á€¬á€¸ ğŸ’–</div></div>
    <div class="photo-frame" id="p5"><img src="images/5.jpg"><div class="frame-caption">á€”á€±á€·á€á€­á€¯á€„á€ºá€¸ á€‘á€•á€ºá€á€»á€…á€ºá€”á€±á€¦á€¸á€™á€šá€º ğŸï¸</div></div>
    <div class="photo-frame" id="p6"><img src="images/6.jpg"><div class="frame-caption">á€‘á€¬á€á€› á€¡á€á€°á€á€° ğŸ’</div></div>
</div>

<div id="text-mode">
    <div id="typewriter"></div>
    <div id="gift-area" style="display: none; margin-top: 30px;">
        <div class="magic-box" onclick="revealGrandFinale()">ğŸ</div>
        <div id="final-reveal">
            <div class="reveal-items">ğŸ’ğŸ§¸ğŸŒ¹</div>
            <p style="color: gold; font-size: 1.5rem; margin-top: 15px; text-shadow: 0 0 10px rgba(255,255,0,0.5);">"á€™á€„á€ºá€¸á€€á€­á€¯ á€¡á€á€€á€ºá€‘á€€á€ºá€•á€­á€¯á€•á€¼á€®á€¸ á€™á€¼á€á€ºá€”á€­á€¯á€¸á€•á€«á€á€šá€º á€™á€­á€”á€ºá€¸á€™..."</p>
        </div>
    </div>
</div>

<script>
    const music = document.getElementById('bgMusic');
    const CORRECT_PASSWORD = "24122005"; // á€™á€„á€ºá€¸á€™á€½á€±á€¸á€”á€±á€· á€’á€«á€™á€¾á€™á€Ÿá€¯á€á€º á€”á€¾á€…á€ºá€•á€á€ºá€œá€Šá€º
    let currentPhotoIndex = 0;
    const photoFrames = document.querySelectorAll('.photo-frame');

    // Particle Effect
    function createParticle() {
        const p = document.createElement('div');
        p.className = 'particle';
        const symbols = ['â¤ï¸', 'ğŸ’–', 'âœ¨', 'ğŸŒŸ', 'ğŸŒ¹', 'ğŸŒ¸'];
        p.innerHTML = symbols[Math.floor(Math.random()*symbols.length)];
        p.style.left = Math.random() * 100 + 'vw';
        p.style.top = '100vh';
        p.style.fontSize = Math.random() * 20 + 15 + 'px';
        p.style.animationDuration = Math.random() * 4 + 5 + 's';
        p.style.opacity = Math.random() * 0.7 + 0.3;
        document.body.appendChild(p);
        setTimeout(() => p.remove(), 10000);
    }
    setInterval(createParticle, 300);

    function checkLock() {
        const input = document.getElementById('passInput').value;
        const error = document.getElementById('error-msg');
        
        if(input === CORRECT_PASSWORD) {
            document.getElementById('lock-screen').style.opacity = '0';
            setTimeout(() => {
                document.getElementById('lock-screen').style.display = 'none';
                document.getElementById('choice-screen').style.display = 'flex';
                setTimeout(() => document.getElementById('choice-screen').style.opacity = '1', 100);
                music.play().catch(e => console.log("Audio play failed:", e));
            }, 1500);
        } else {
            error.innerHTML = "á€€á€­á€¯á€€á€­á€¯á€·á€›á€²á€· á€¡á€™á€¾á€á€ºá€á€›á€›á€€á€ºá€…á€½á€²á€€á€­á€¯ á€•á€¼á€”á€ºá€…á€‰á€ºá€¸á€…á€¬á€¸á€•á€«á€¦á€¸ á€™á€­á€”á€ºá€¸á€™á€›á€²á€·... ğŸ¥º";
            document.getElementById('passInput').value = "";
        }
    }

    function startFeature(mode) {
        document.getElementById('choice-screen').style.opacity = '0';
        setTimeout(() => {
            document.getElementById('choice-screen').style.display = 'none';
            if(mode === 'gallery') {
                document.getElementById('gallery-mode').style.display = 'flex';
                setTimeout(() => photoFrames[currentPhotoIndex].classList.add('active'), 500);
                setTimeout(() => document.getElementById('gallery-mode').style.opacity = '1', 100);
            } else {
                document.getElementById('text-mode').style.display = 'block';
                startTypewriter();
            }
        }, 1000);
    }

    function nextPhoto() {
        photoFrames[currentPhotoIndex].classList.remove('active');
        photoFrames[currentPhotoIndex].classList.add('leaving');
        
        setTimeout(() => {
            photoFrames[currentPhotoIndex].classList.remove('leaving'); // Reset for next cycle
            currentPhotoIndex = (currentPhotoIndex + 1) % photoFrames.length;
            photoFrames[currentPhotoIndex].classList.add('active');
        }, 800); // Should match CSS transition time
    }

    function startTypewriter() {
        const fullMessage = `á€á€»á€…á€ºá€›á€•á€«á€á€±á€¬ á€™á€­á€”á€ºá€¸á€™... â¤ï¸\n\ná€’á€®á€”á€±á€· á€¡á€œá€¯á€•á€ºá€™á€¾á€¬ á€…á€­á€á€ºá€Šá€…á€ºá€á€²á€·á€›á€á€™á€»á€¾á€á€½á€± á€’á€® Website á€œá€±á€¸á€‘á€²á€™á€¾á€¬ á€‘á€¬á€¸á€á€²á€·á€œá€­á€¯á€€á€ºá€•á€«á€á€±á€¬á€·á€”á€±á€¬á€ºá‹ á€€á€­á€¯á€šá€ºá€á€­á€¯á€·á€”á€¾á€…á€ºá€šá€±á€¬á€€á€ºá€›á€²á€· á€‡á€¬á€á€ºá€œá€™á€ºá€¸á€œá€±á€¸á€€ á€¡á€™á€¼á€²á€á€™á€ºá€¸ á€•á€»á€±á€¬á€ºá€›á€½á€¾á€„á€ºá€…á€›á€¬á€á€½á€±á€”á€²á€· á€•á€¼á€Šá€·á€ºá€”á€±á€›á€™á€¾á€¬á€•á€«á‹ \n\ná€™á€„á€ºá€¸á€€ á€€á€­á€¯á€šá€·á€ºá€˜á€á€›á€²á€· á€’á€«á€›á€­á€¯á€€á€ºá€á€¬á€œá€­á€¯á€•á€«á€•á€²á‹ á€€á€­á€¯á€šá€·á€ºá€›á€²á€· á€”á€±á€·á€›á€€á€ºá€á€­á€¯á€„á€ºá€¸á€€á€­á€¯ á€¡á€“á€­á€•á€¹á€•á€¬á€šá€ºá€›á€¾á€­á€¡á€±á€¬á€„á€º á€–á€”á€ºá€á€®á€¸á€•á€±á€¸á€á€²á€·á€á€°á€•á€«á‹ á€™á€„á€ºá€¸á€€á€­á€¯ á€•á€»á€±á€¬á€ºá€¡á€±á€¬á€„á€ºá€‘á€¬á€¸á€–á€­á€¯á€· á€€á€­á€¯á€šá€ºá€á€á€ºá€”á€­á€¯á€„á€ºá€á€™á€»á€¾ á€¡á€›á€¬á€¡á€¬á€¸á€œá€¯á€¶á€¸á€€á€­á€¯ á€œá€¯á€•á€ºá€•á€±á€¸á€á€½á€¬á€¸á€™á€¾á€¬á€•á€«á‹ \n\ná€’á€® Website á€œá€±á€¸á€€á€­á€¯ á€™á€„á€ºá€¸á€¡á€á€½á€€á€º á€€á€­á€¯á€šá€ºá€€á€­á€¯á€šá€ºá€á€­á€¯á€„á€º á€›á€±á€¸á€‘á€¬á€¸á€á€¬á€•á€«á‹ á€œá€€á€ºá€†á€±á€¬á€„á€ºá€”á€±á€¬á€€á€ºá€€á€»á€á€¬á€€á€­á€¯ á€á€½á€„á€·á€ºá€œá€½á€¾á€á€ºá€•á€±á€¸á€•á€«á€”á€±á€¬á€ºá‹ á€™á€„á€ºá€¸á€€á€­á€¯ á€¡á€á€€á€ºá€‘á€€á€ºá€•á€­á€¯á€á€»á€…á€ºá€•á€«á€á€šá€º...\n\ná€’á€®á€™á€¾á€¬... á€™á€„á€ºá€¸á€¡á€á€½á€€á€º á€”á€±á€¬á€€á€ºá€†á€¯á€¶á€¸ Surprise...`;
        let i = 0;
        const typewriterDiv = document.getElementById('typewriter');
        function type() {
            if (i < fullMessage.length) {
                typewriterDiv.innerHTML += fullMessage.charAt(i) === '\n' ? '<br>' : fullMessage.charAt(i);
                i++; setTimeout(type, 50); // Typing speed
            } else { document.getElementById('gift-area').style.display = 'block'; }
        }
        type();
    }

    function revealGrandFinale() {
        document.querySelector('.magic-box').style.display = 'none';
        document.getElementById('final-reveal').style.display = 'block';
        initFireworks(); // Start fireworks!
    }

    // Fireworks Logic (using canvas)
    const fireworksCanvas = document.getElementById('fireworks-canvas');
    const f_ctx = fireworksCanvas.getContext('2d');
    let particles = [];

    function initFireworks() {
        fireworksCanvas.width = window.innerWidth;
        fireworksCanvas.height = window.innerHeight;
        
        function createFirework(x, y) {
            for (let i = 0; i < 100; i++) {
                particles.push({
                    x: x, y: y,
                    vx: (Math.random() - 0.5) * 15,
                    vy: (Math.random() - 0.5) * 15,
                    alpha: 1,
                    color: `hsl(${Math.random() * 360}, 100%, 70%)`,
                    gravity: 0.3
                });
            }
        }

        // Spawn a few fireworks for grand finale
        createFirework(fireworksCanvas.width / 2, fireworksCanvas.height / 2);
        setTimeout(() => createFirework(Math.random() * fireworksCanvas.width, Math.random() * fireworksCanvas.height), 500);
        setTimeout(() => createFirework(Math.random() * fireworksCanvas.width, Math.random() * fireworksCanvas.height), 1000);

        function animateFireworks() {
            f_ctx.clearRect(0, 0, fireworksCanvas.width, fireworksCanvas.height);
            particles.forEach((p, i) => {
                p.x += p.vx;
                p.y += p.vy;
                p.vy += p.gravity; // Apply gravity
                p.alpha -= 0.015;
                f_ctx.globalAlpha = p.alpha;
                f_ctx.fillStyle = p.color;
                f_ctx.beginPath();
                f_ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
                f_ctx.fill();
                if (p.alpha <= 0) particles.splice(i, 1);
            });
            if (particles.length > 0) requestAnimationFrame(animateFireworks);
            else fireworksCanvas.style.display = 'none'; // Hide canvas when done
        }
        animateFireworks();
    }
</script>
</body>
</html>
